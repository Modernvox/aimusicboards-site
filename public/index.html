<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Music Boards</title>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #07070c;
      --panel: rgba(255,255,255,0.06);
      --panel2: rgba(255,255,255,0.04);
      --border: rgba(255,255,255,0.14);
      --text: rgba(255,255,255,0.95);
      --muted: rgba(255,255,255,0.68);

      --gold: #d4af37;
      --green: #2ecc71;
      --blue: #4aa3ff;
      --red: #ff3b30;

      --cta: #f08a2a;
      --cta2: #ff9c45;

      --radius: 18px;
      --shadow: 0 18px 50px rgba(0,0,0,.45);
      --max: 1100px;
    }

    *{ box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Arial, sans-serif;
      background:
        radial-gradient(1200px 700px at 50% 20%, rgba(109,92,255,.22), rgba(0,0,0,0) 60%),
        radial-gradient(1000px 600px at 70% 35%, rgba(74,163,255,.18), rgba(0,0,0,0) 55%),
        var(--bg);
      color: var(--text);
      overflow-x:hidden;
    }

    a{ color: inherit; text-decoration: none; }
    .wrap{ width: min(var(--max), calc(100% - 48px)); margin: 0 auto; }

    /* ---------- Top Nav ---------- */
    header{
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: linear-gradient(to bottom, rgba(7,7,12,.75), rgba(7,7,12,.35));
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .nav{
      height: 74px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 18px;
    }
    .brand{
      font-weight: 900;
      letter-spacing: .6px;
      text-transform: uppercase;
      font-size: 20px;
    }
    .navlinks{
      display:flex;
      align-items:center;
      gap: 22px;
      font-weight: 700;
      font-size: 13px;
      text-transform: uppercase;
      color: rgba(255,255,255,.82);
    }
    .navlinks a{ opacity:.9; }
    .navlinks a:hover{ opacity:1; }
    .navright{
      display:flex;
      align-items:center;
      gap: 12px;
    }

    /* ---------- Buttons / Pills ---------- */
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 12px 16px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.92);
      font-weight: 800;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: .4px;
      cursor: pointer;
      user-select: none;
    }
    .btn:hover{ background: rgba(255,255,255,.09); }
    .btn.primary{
      background: linear-gradient(180deg, rgba(109,92,255,.95), rgba(74,163,255,.85));
      border-color: rgba(255,255,255,.14);
    }
    .btn.cta{
      background: linear-gradient(180deg, var(--cta2), var(--cta));
      border-color: rgba(0,0,0,.2);
      color: #1a0f05;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      font-weight: 900;
      letter-spacing: .4px;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(255,255,255,.86);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      backdrop-filter: blur(8px);
      white-space: nowrap;
    }
    .pill.hidden{ display:none; }
    .dot{
      width: 10px; height: 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.35);
      box-shadow: none;
      flex: 0 0 auto;
    }
    .dot.on{
      background: var(--green);
      box-shadow: 0 0 18px rgba(46,204,113,.45);
    }

    /* ---------- Hero ---------- */
    .hero{
      position: relative;
      padding: 44px 0 28px;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset: 0;
      background:
        radial-gradient(900px 500px at 30% 20%, rgba(109,92,255,.25), rgba(0,0,0,0) 55%),
        radial-gradient(900px 500px at 70% 30%, rgba(74,163,255,.20), rgba(0,0,0,0) 55%),
        linear-gradient(to bottom, rgba(7,7,12,.20), rgba(7,7,12,.95)),
        url("");
      background-size: cover;
      background-position: center;
      opacity: .95;
      pointer-events:none;
    }
    .hero-inner{
      position: relative;
      display:grid;
      grid-template-columns: 320px 1fr;
      gap: 28px;
      align-items: center;
      padding-top: 18px;
    }
    .host{
      width: 100%;
      aspect-ratio: 3 / 4;
      border-radius: 22px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)),
        url("https://imagedelivery.net/fYqzQPf1CS3qAF1vZpfSLw/75c05efd-77f9-454c-dab4-b14289c54400/public");
      background-size: cover;
      background-position: center;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.10);
      overflow:hidden;
    }
    .hero-copy{ padding: 6px 0; }
    .headline{
      font-size: clamp(36px, 5.2vw, 64px);
      line-height: 1.05;
      margin: 0 0 10px 0;
      font-weight: 900;
      letter-spacing: -.8px;
      text-transform: uppercase;
    }
    .subhead{
      margin: 0 0 18px 0;
      font-size: clamp(15px, 1.8vw, 18px);
      color: rgba(255,255,255,.74);
      max-width: 720px;
    }

    .hero-toprow{
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items:center;
      margin-bottom: 14px;
    }
    .statusText{
      color: rgba(255,255,255,.78);
      font-size: 13px;
      font-weight: 700;
      letter-spacing: .2px;
    }

    .nowplaying{
      margin-top: 10px;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.34);
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 30px rgba(0,0,0,.30);
      max-width: 760px;
    }
    .npKicker{
      font-size: 12px;
      font-weight: 900;
      letter-spacing: .6px;
      text-transform: uppercase;
      color: rgba(255,255,255,.65);
      margin-bottom: 6px;
    }
    .npMain{
      font-size: 16px;
      font-weight: 900;
      letter-spacing: .2px;
      color: rgba(255,255,255,.92);
    }
    .npSub{
      margin-top: 4px;
      font-size: 13px;
      color: rgba(255,255,255,.70);
    }

    /* ---------- Leaderboard Screen ---------- */
    .screen{
      position: relative;
      margin-top: 26px;
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .screen::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(700px 250px at 50% 0%, rgba(109,92,255,.22), rgba(0,0,0,0) 60%),
        radial-gradient(600px 220px at 50% 40%, rgba(212,175,55,.16), rgba(0,0,0,0) 60%);
      pointer-events:none;
    }
    .screen-inner{ position: relative; padding: 22px; }
    .screen-head{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }
    .screen-title{
      font-weight: 900;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin: 0;
      font-size: 22px;
      color: rgba(255,255,255,.92);
    }
    .meta-row{
      display:flex;
      align-items:center;
      gap: 10px;
      flex-wrap: wrap;
    }
    .mini-muted{
      font-size: 12px;
      color: rgba(255,255,255,.65);
      letter-spacing: .2px;
      font-weight: 700;
    }

    /* Podium (Top 3 cards) */
    .podium{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin: 12px 0 14px;
    }
    .pod{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.32);
      backdrop-filter: blur(8px);
      padding: 14px 14px 12px;
      box-shadow: 0 10px 28px rgba(0,0,0,.30);
      min-height: 116px;
      display:flex;
      flex-direction: column;
      gap: 6px;
    }
    .pod .rank{
      font-weight: 900;
      letter-spacing: .6px;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(255,255,255,.72);
    }
    .pod .track{
      font-weight: 900;
      letter-spacing: .2px;
      text-transform: uppercase;
      font-size: 13px;
      color: rgba(255,255,255,.92);
      line-height: 1.15;
    }
    .pod .meta{
      font-size: 12px;
      color: rgba(255,255,255,.68);
    }
    .pod .score{
      margin-top: auto;
      font-weight: 900;
      font-size: 18px;
      color: rgba(255,255,255,.92);
    }
    .pod.top{
      border-color: rgba(212,175,55,.28);
      background: linear-gradient(180deg, rgba(212,175,55,.18), rgba(0,0,0,.32));
    }

    /* Desktop table */
    .tablewrap{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.30);
      overflow:hidden;
    }
    table{
      width:100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    thead th{
      text-align:left;
      padding: 12px 14px;
      background: rgba(255,255,255,.04);
      border-bottom: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.78);
      text-transform: uppercase;
      letter-spacing: .6px;
      font-size: 12px;
      font-weight: 900;
    }
    tbody td{
      padding: 12px 14px;
      border-bottom: 1px solid rgba(255,255,255,.06);
      color: rgba(255,255,255,.86);
      vertical-align: top;
    }
    tbody tr:last-child td{ border-bottom: none; }
    tbody tr.rank-1{ background: rgba(212,175,55,.10); }
    tbody tr.rank-2{ background: rgba(46,204,113,.06); }
    tbody tr.rank-3{ background: rgba(74,163,255,.06); }
    tbody td strong{ color: rgba(255,255,255,.95); }

    /* Mobile list */
    .mobileOnly{ display:none; }
    .entry{
      display:grid;
      grid-template-columns: 58px 1fr 90px;
      gap: 10px;
      padding: 12px 12px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      align-items:center;
    }
    .entry:last-child{ border-bottom: none; }
    .entry .r{
      font-weight: 900;
      color: rgba(255,255,255,.75);
      letter-spacing: .3px;
    }
    .entry .title{
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .2px;
      color: rgba(255,255,255,.92);
      font-size: 13px;
      line-height: 1.15;
    }
    .entry .sub{
      margin-top: 4px;
      font-size: 12px;
      color: rgba(255,255,255,.68);
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }
    .entry .score{
      text-align:right;
      font-weight: 900;
      color: rgba(255,255,255,.92);
    }
    .entry.gold{ background: rgba(212,175,55,.10); }
    .entry.green{ background: rgba(46,204,113,.06); }
    .entry.blue{ background: rgba(74,163,255,.06); }

    .ruleline{
      margin-top: 10px;
      text-align:center;
      font-size: 12px;
      color: rgba(255,255,255,.62);
      text-transform: uppercase;
      letter-spacing: .6px;
    }
    .ruleline b{ color: var(--gold); }

    /* ---------- Two-column section ---------- */
    .grid2{
      display:grid;
      grid-template-columns: 1fr 360px;
      gap: 18px;
      margin-top: 22px;
    }
    .card{
      border-radius: 18px;
      background: var(--panel);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 12px 38px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .card h3{
      margin: 0;
      padding: 16px 16px 12px;
      font-size: 18px;
      font-weight: 900;
      letter-spacing: .6px;
      text-transform: uppercase;
      border-bottom: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }
    .how{
      padding: 14px 16px 18px;
      display:flex;
      flex-direction: column;
      gap: 14px;
    }
    .step{
      display:grid;
      grid-template-columns: 28px 1fr;
      gap: 12px;
      align-items:flex-start;
    }
    .icon{
      width: 28px; height: 28px;
      border-radius: 10px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      display:flex; align-items:center; justify-content:center;
      color: rgba(255,255,255,.86);
      font-weight: 900;
      font-size: 14px;
    }
    .step b{
      display:inline-block;
      color: rgba(255,255,255,.92);
      letter-spacing: .2px;
    }
    .step p{
      margin: 4px 0 0 0;
      color: rgba(255,255,255,.70);
      font-size: 14px;
      line-height: 1.35;
    }

    .livebox{ padding: 14px 16px 18px; }
    .livepill{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(74,163,255,.16);
      border: 1px solid rgba(74,163,255,.28);
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .6px;
      font-size: 12px;
      margin-bottom: 12px;
    }
    .livepill .dot{ background: var(--red); box-shadow: 0 0 16px rgba(255,59,48,.55); }
    .thumb{
      width: 100%;
      aspect-ratio: 16/9;
      border-radius: 14px;
      background:
        linear-gradient(180deg, rgba(0,0,0,.05), rgba(0,0,0,.45)),
        url("YOUR_LIVE_THUMB.jpg");
      background-size: cover;
      background-position: center;
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 28px rgba(0,0,0,.35);
      margin-bottom: 12px;
    }
    .liveartist{
      font-weight: 800;
      color: rgba(255,255,255,.90);
      margin: 0 0 12px 0;
    }

    /* ---------- Highlights ---------- */
    .section{
      margin-top: 26px;
      padding-bottom: 56px;
    }
    .section-title{
      margin: 0 0 12px 0;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .8px;
      color: rgba(255,255,255,.92);
      font-size: 18px;
    }
    .tiles{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 14px;
    }
    .tile{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.28);
      overflow:hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    .tile .img{
      height: 110px;
      background:
        linear-gradient(180deg, rgba(0,0,0,.00), rgba(0,0,0,.55)),
        url("YOUR_HIGHLIGHT_1.jpg");
      background-size: cover;
      background-position: center;
    }
    .tile .meta{
      padding: 10px 12px 12px;
      display:flex;
      justify-content: space-between;
      gap: 10px;
      align-items:flex-end;
    }
    .tile .meta .tname{
      font-weight: 800;
      font-size: 13px;
      color: rgba(255,255,255,.88);
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    .tile .meta .tscore{
      font-weight: 900;
      font-size: 13px;
      color: rgba(255,255,255,.80);
    }
    .tscore b{ color: var(--gold); }

    .center-actions{
      margin-top: 16px;
      display:flex;
      justify-content:center;
    }

    /* ---------- Responsive ---------- */
    @media (max-width: 980px){
      .hero-inner{ grid-template-columns: 1fr; }
      .host{ max-width: 420px; aspect-ratio: 16/10; }
      .grid2{ grid-template-columns: 1fr; }
      .tiles{ grid-template-columns: repeat(2, 1fr); }
      .navlinks{ display:none; }
      .podium{ grid-template-columns: 1fr; }
    }
    @media (max-width: 720px){
      .tablewrap{ display:none; }
      .mobileOnly{ display:block; }
    }
    @media (max-width: 520px){
      .wrap{ width: calc(100% - 28px); }
      .nav{ height: 68px; }
      .brand{ font-size: 18px; }
      .btn{ padding: 11px 14px; border-radius: 12px; }
      .screen-inner{ padding: 16px; }
      .tiles{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <header>
    <div class="wrap">
      <div class="nav">
        <div class="brand">AI MUSIC BOARDS</div>

        <nav class="navlinks" aria-label="primary">
          <a href="#home">Home</a>
          <a href="#leaderboard">Leaderboard</a>
          <a href="#submit">Submit Music</a>
        </nav>

        <div class="navright">
          <a class="btn primary" href="#watch">Watch Live</a>
          <a class="btn" href="#login">Log In</a>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <main id="home" class="hero">
    <div class="wrap">
      <div class="hero-inner">
        <!-- Replace with a transparent PNG cutout of Mike -->
        <div class="host" aria-label="Host image"></div>

        <div class="hero-copy">
          <div class="hero-toprow">
            <!-- ✅ required IDs for your script -->
            <div class="pill" id="submitBadge">
              <span class="dot" id="liveDot"></span>
              <span id="liveText">Status: —</span>
            </div>

            <div class="pill hidden" id="sessionPill">Reviewed Live: —</div>

            <div class="pill" id="lastUpdated">Updated: —</div>
          </div>

          <h1 class="headline">DISCOVER THE TOP<br/>AI-GENERATED MUSIC</h1>
          <p class="subhead">Submit your tracks, climb the ranks, and showcase your music!</p>

          <div class="hero-actions">
            <!-- ✅ required ID for your script -->
            <a class="btn cta" id="submitBtn" href="#submit">Submit your song</a>
          </div>

          <!-- ✅ required IDs for your script -->
          <div class="nowplaying" aria-label="Now playing">
            <div class="npKicker">Now Playing</div>
            <div class="npMain" id="npMain">Nothing selected</div>
            <div class="npSub" id="npSub"></div>
          </div>

          <!-- ✅ required ID for your script -->
          <div class="ruleline" id="sessionLine" style="display:none;"></div>
        </div>
      </div>

      <!-- LEADERBOARD -->
      <section id="leaderboard" class="screen" aria-label="Leaderboard">
        <div class="screen-inner">
          <div class="screen-head">
            <h2 class="screen-title" style="margin:0;">LEADERBOARD</h2>
            <div class="meta-row">
              <div class="mini-muted">Qualifying: <b style="color:var(--gold)">30+</b> total</div>
            </div>
          </div>

          <!-- Top 3 cards (podium) -->
          <div class="podium" aria-label="Top 3">
            <!-- ✅ required IDs for your script -->
            <div class="pod top" id="top1">
              <div class="rank">#1</div>
              <div class="track">—</div>
              <div class="meta">—</div>
              <div class="score">—</div>
              <div class="meta">—</div>
            </div>
            <div class="pod" id="top2">
              <div class="rank">#2</div>
              <div class="track">—</div>
              <div class="meta">—</div>
              <div class="score">—</div>
              <div class="meta">—</div>
            </div>
            <div class="pod" id="top3">
              <div class="rank">#3</div>
              <div class="track">—</div>
              <div class="meta">—</div>
              <div class="score">—</div>
              <div class="meta">—</div>
            </div>
          </div>

          <!-- Desktop table -->
          <div class="tablewrap" aria-label="Leaderboard table">
            <table>
              <thead>
                <tr>
                  <th style="width:70px;">Rank</th>
                  <th>Artist</th>
                  <th>Track</th>
                  <th style="width:150px;">Genre</th>
                  <th style="width:120px;">Total</th>
                  <th style="width:240px;">Breakdown</th>
                </tr>
              </thead>
              <tbody id="leaderboardBody">
                <!-- filled by script -->
              </tbody>
            </table>
          </div>

          <!-- Mobile list -->
          <div class="card mobileOnly" style="margin-top:12px;">
            <div style="padding:12px 12px; border-bottom:1px solid rgba(255,255,255,.10); background:rgba(255,255,255,.03); font-weight:900; text-transform:uppercase; letter-spacing:.6px; font-size:12px; color:rgba(255,255,255,.78);">
              Leaderboard (Mobile)
            </div>
            <!-- ✅ required ID for your script -->
            <div id="leaderboardMobile"></div>
          </div>

          <div class="ruleline">To make the leaderboard combined scores must be <b>30+</b></div>
        </div>
      </section>

      <!-- HOW IT WORKS + LIVE NOW -->
      <section class="grid2">
        <div class="card">
          <h3>How It Works</h3>
          <div class="how">
            <div class="step">
              <div class="icon">♪</div>
              <div>
                <b>SUBMIT:</b>
                <p>Upload your original AI music for our judges to evaluate during live sessions.</p>
              </div>
            </div>

            <div class="step">
              <div class="icon">⎈</div>
              <div>
                <b>SCORE:</b>
                <p>Judged on lyrics, delivery, originality, repeatability &amp; production (1–10 each).</p>
              </div>
            </div>

            <div class="step">
              <div class="icon">↑</div>
              <div>
                <b>CLIMB:</b>
                <p>Combined score <b>30+</b> qualifies for the leaderboard and weekly showcase.</p>
              </div>
            </div>
          </div>
        </div>

        <aside class="card" id="watch">
          <h3>Live Now</h3>
          <div class="livebox">
            <div class="livepill"><span class="dot"></span> Live Now</div>
            <div class="thumb" aria-label="Live thumbnail"></div>
            <p class="liveartist">Now Playing updates above</p>
            <a class="btn primary" href="#watch">Watch Live</a>
          </div>
        </aside>
      </section>

      <!-- HIGHLIGHTS -->
      <section class="section">
        <div class="section-title">Top Performance Highlights</div>

        <div class="tiles">
          <div class="tile">
            <div class="img" style="background-image:
              linear-gradient(180deg, rgba(0,0,0,.00), rgba(0,0,0,.55)),
              url('YOUR_HIGHLIGHT_1.jpg');"></div>
            <div class="meta">
              <div class="tname">Synthenusia</div>
              <div class="tscore"><b>7.5</b></div>
            </div>
          </div>

          <div class="tile">
            <div class="img" style="background-image:
              linear-gradient(180deg, rgba(0,0,0,.00), rgba(0,0,0,.55)),
              url('YOUR_HIGHLIGHT_2.jpg');"></div>
            <div class="meta">
              <div class="tname">Melody Machine</div>
              <div class="tscore"><b>9.1</b></div>
            </div>
          </div>

          <div class="tile">
            <div class="img" style="background-image:
              linear-gradient(180deg, rgba(0,0,0,.00), rgba(0,0,0,.55)),
              url('YOUR_HIGHLIGHT_3.jpg');"></div>
            <div class="meta">
              <div class="tname">Beat Bot</div>
              <div class="tscore"><b>6.3</b></div>
            </div>
          </div>

          <div class="tile">
            <div class="img" style="background-image:
              linear-gradient(180deg, rgba(0,0,0,.00), rgba(0,0,0,.55)),
              url('YOUR_HIGHLIGHT_4.jpg');"></div>
            <div class="meta">
              <div class="tname">Rhythmral</div>
              <div class="tscore"><b>7.0</b></div>
            </div>
          </div>
        </div>

        <div class="center-actions">
          <a class="btn cta" href="#highlights">View All Highlights</a>
        </div>
      </section>
    </div>
  </main>

  <!-- ✅ YOUR SCRIPT (integrated) -->
  <script>
    const QUALIFYING_MIN = 30;

    async function loadLiveStatus() {
      try {
        const res = await fetch("/api/status", { cache: "no-store" });
        const data = await res.json();

        const open = !!data.submissions_open;

        const badge = document.getElementById("submitBadge");
        const dot = document.getElementById("liveDot");
        const text = document.getElementById("liveText");
        const btn = document.getElementById("submitBtn");

        if (open) {
          badge.textContent = "LIVE: Submissions are OPEN";
          badge.style.borderColor = "rgba(46,204,113,0.35)";
          badge.style.background = "rgba(46,204,113,0.10)";
          dot.classList.add("on");
          text.textContent = "Status: LIVE (Accepting submissions)";
          btn.textContent = "Submit your song (LIVE)";
        } else {
          badge.textContent = "OFFLINE: Submissions are CLOSED";
          badge.style.borderColor = "rgba(231,76,60,0.35)";
          badge.style.background = "rgba(231,76,60,0.10)";
          dot.classList.remove("on");
          text.textContent = "Status: OFFLINE (Closed)";
          btn.textContent = "Submit your song";
        }
      } catch (e) {
        const badge = document.getElementById("submitBadge");
        const text = document.getElementById("liveText");
        if (badge) badge.textContent = "Submissions: status unavailable";
        if (text) text.textContent = "Status: —";
      }
    }

    async function loadNowPlaying() {
      try {
        const res = await fetch("/api/now_playing", { cache: "no-store" });
        const data = await res.json();
        const np = data.now_playing || null;

        if (np && (np.artist_name || np.track_title)) {
          document.getElementById("npMain").textContent =
            `${np.artist_name || "—"} — ${np.track_title || "—"}`;

          const sub = [];
          if (np.genre) sub.push(np.genre);
          if (np.submission_id) sub.push("LIVE REVIEW");
          document.getElementById("npSub").textContent = sub.join(" • ");
        } else {
          document.getElementById("npMain").textContent = "Nothing selected";
          document.getElementById("npSub").textContent = "";
        }
      } catch (e) {
        // keep silent; homepage should still work
      }
    }

    async function loadLeaderboard() {
      try {
        const res = await fetch("leaderboard.json", { cache: "no-store" });
        const data = await res.json();

        document.getElementById("lastUpdated").textContent =
          "Updated: " + new Date(data.updated_at).toLocaleString();

        const sessionText =
          data.board_session ||
          data.reviewed_live ||
          (data.now_playing && data.now_playing.reviewed_live) ||
          "";

        const sessionPill = document.getElementById("sessionPill");
        const sessionLine = document.getElementById("sessionLine");

        if (sessionText && sessionText.trim().length) {
          sessionPill.classList.remove("hidden");
          sessionPill.textContent = "Reviewed Live: " + sessionText;

          sessionLine.style.display = "block";
          sessionLine.textContent = "Reviewed Live — " + sessionText;
        } else {
          sessionPill.classList.add("hidden");
          sessionLine.style.display = "none";
          sessionLine.textContent = "";
        }

        // Only show qualifying (>=30)
        const entries = (data.leaderboard || []).filter(e => (e.total ?? 0) >= QUALIFYING_MIN);

        // Top 3 cards
        renderPodium("top1", entries[0], 1);
        renderPodium("top2", entries[1], 2);
        renderPodium("top3", entries[2], 3);

        // Desktop table
        renderTable(entries);

        // Mobile list
        renderMobile(entries);

      } catch (err) {
        console.error("Failed to load leaderboard:", err);
      }
    }

    function safeText(s) {
      return (s ?? "").toString();
    }

    function renderPodium(id, entry, rank) {
      const el = document.getElementById(id);
      if (!entry) {
        el.innerHTML = "<div class='rank'>—</div><div class='track'>No entry</div><div class='meta'></div><div class='score'>—</div>";
        return;
      }

      const genre = safeText(entry.genre);
      const breakdown = `L${entry.lyrics} • V${entry.vocals} • P${entry.production} • O${entry.originality}`;

      el.innerHTML = `
        <div class="rank">#${rank}</div>
        <div class="track">${safeText(entry.artist)} — ${safeText(entry.track)}</div>
        <div class="meta">${genre || "—"}</div>
        <div class="score">${entry.total}/50</div>
        <div class="meta">${breakdown}</div>
      `;
    }

    function renderTable(entries) {
      const tbody = document.getElementById("leaderboardBody");
      tbody.innerHTML = "";

      entries.slice(0, 50).forEach((e, i) => {
        const tr = document.createElement("tr");
        if (i === 0) tr.classList.add("rank-1");
        if (i === 1) tr.classList.add("rank-2");
        if (i === 2) tr.classList.add("rank-3");

        tr.innerHTML = `
          <td>${i + 1}</td>
          <td>${safeText(e.artist)}</td>
          <td>${safeText(e.track)}</td>
          <td>${safeText(e.genre)}</td>
          <td><strong>${e.total}/50</strong></td>
          <td>L${e.lyrics} • V${e.vocals} • P${e.production} • O${e.originality}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    function renderMobile(entries) {
      const wrap = document.getElementById("leaderboardMobile");
      wrap.innerHTML = "";

      entries.slice(0, 50).forEach((e, i) => {
        const row = document.createElement("div");
        row.className = "entry" + (i === 0 ? " gold" : i === 1 ? " green" : i === 2 ? " blue" : "");

        const breakdown = `L${e.lyrics} • V${e.vocals} • P${e.production} • O${e.originality}`;
        const genre = safeText(e.genre);

        row.innerHTML = `
          <div class="r">#${i + 1}</div>
          <div class="main">
            <div class="title">${safeText(e.artist)} — ${safeText(e.track)}</div>
            <div class="sub">${genre || "—"} • ${breakdown}</div>
          </div>
          <div class="score">${e.total}/50</div>
        `;
        wrap.appendChild(row);
      });
    }

    loadLiveStatus();
    loadNowPlaying();
    loadLeaderboard();

    setInterval(loadLiveStatus, 5000);    // live status (submit open/closed)
    setInterval(loadNowPlaying, 2000);    // now playing (overlay-driven)
    setInterval(loadLeaderboard, 15000);  // leaderboard refresh
  </script>
</body>
</html>
